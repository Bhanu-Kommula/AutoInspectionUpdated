# ===========================================
# CENTRALIZED CONFIGURATION FILE
# ===========================================
# This file contains all common configuration values
# shared across all microservices in the project

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Common database settings for all services
# Fix for Render: Ensure jdbc: prefix is always present for PostgreSQL
common.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/inspection}
common.datasource.username=${SPRING_DATASOURCE_USERNAME:${DB_USERNAME:postgres}}
common.datasource.password=${SPRING_DATASOURCE_PASSWORD:${DB_PASSWORD:postgres}}
common.datasource.driver-class-name=org.postgresql.Driver

# JPA Configuration
common.jpa.hibernate.ddl-auto=validate
common.jpa.show-sql=false
common.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
common.jpa.properties.hibernate.format_sql=true

# Connection Pool Configuration
common.datasource.hikari.maximum-pool-size=20
common.datasource.hikari.minimum-idle=5
common.datasource.hikari.connection-timeout=20000

# ===========================================
# SERVICE DISCOVERY (EUREKA)
# ===========================================
common.eureka.client.service-url.defaultZone=https://service-registry.onrender.com/eureka
common.eureka.instance.prefer-ip-address=true

# ===========================================
# CORS CONFIGURATION
# ===========================================
common.cors.allowed-origins=https://dealer-frontend-iwor.onrender.com,https://dealer-frontend.onrender.com,http://localhost:3000,http://localhost:3001
common.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
common.cors.allowed-headers=*
common.cors.allow-credentials=true
common.cors.max-age=3600

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
common.logging.level.root=INFO
common.logging.level.org.springframework.web=INFO
common.logging.level.org.hibernate.SQL=WARN

# ===========================================
# JACKSON CONFIGURATION
# ===========================================
common.jackson.property-naming-strategy=LOWER_CAMEL_CASE
common.jackson.default-property-inclusion=NON_NULL

# ===========================================
# SERVER PORTS (for different services)
# ===========================================
# Dealer Service
dealer.server.port=8080

# Postings Service  
postings.server.port=8081

# Technician Service
technician.server.port=8082

# Tech Dashboard Service
tech-dashboard.server.port=8083

# Gateway Service
gateway.server.port=8084

# Service Registry
service-registry.server.port=8761

# ===========================================
# VALIDATION PATTERNS
# ===========================================
# Phone number validation pattern
common.validation.phone.pattern=^[\\+]?[1-9]?[0-9]{7,15}$

# Password validation
common.validation.password.min-length=8

# Name validation
common.validation.name.min-length=2
common.validation.name.max-length=100

# Zipcode validation
common.validation.zipcode.min-length=5
common.validation.zipcode.max-length=10

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# JWT Configuration (for future use)
common.jwt.secret=YourSecretKeyHere123456789
common.jwt.expiration=86400000

# Session timeout (in seconds)
common.session.timeout=3600 